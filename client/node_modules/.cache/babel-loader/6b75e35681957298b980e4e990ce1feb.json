{"ast":null,"code":"import _regeneratorRuntime from \"C:\\\\Users\\\\bellis\\\\Desktop\\\\onstore\\\\lstore\\\\client\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\bellis\\\\Desktop\\\\onstore\\\\lstore\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"C:\\\\Users\\\\bellis\\\\Desktop\\\\onstore\\\\lstore\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\bellis\\\\Desktop\\\\onstore\\\\lstore\\\\client\\\\src\\\\components\\\\signup.js\";\nimport React, { useState, useEffect, useContext, useReducer, usePrevious } from 'react';\nimport { Container, Box, Button, Heading, Text, TextField, Toast } from 'gestalt';\nimport { withRouter } from 'react-router';\nimport Strapi from \"strapi-sdk-javascript/build/main\";\nvar apiUrl = process.env.API_URL || \"http://localhost:1337\";\nvar strapi = new Strapi(apiUrl);\nexport default function Signup() {\n  var _useState = useState(''),\n      _useState2 = _slicedToArray(_useState, 2),\n      username = _useState2[0],\n      setUsername = _useState2[1];\n\n  var _useState3 = useState(''),\n      _useState4 = _slicedToArray(_useState3, 2),\n      email = _useState4[0],\n      setEmail = _useState4[1];\n\n  var _useState5 = useState(''),\n      _useState6 = _slicedToArray(_useState5, 2),\n      password = _useState6[0],\n      setPassword = _useState6[1];\n\n  var _useState7 = useState(false),\n      _useState8 = _slicedToArray(_useState7, 2),\n      toast = _useState8[0],\n      setToast = _useState8[1];\n\n  var _useState9 = useState(''),\n      _useState10 = _slicedToArray(_useState9, 2),\n      toastMessage = _useState10[0],\n      setToastMessage = _useState10[1];\n\n  var _useState11 = useState(false),\n      _useState12 = _slicedToArray(_useState11, 2),\n      loading = _useState12[0],\n      setLoading = _useState12[1];\n\n  var handleSubmit =\n  /*#__PURE__*/\n  function () {\n    var _ref = _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee(event) {\n      var response;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              event.preventDefault();\n\n              if (!isFormEmpty()) {\n                _context.next = 4;\n                break;\n              }\n\n              showToast('Fill in all fields!');\n              return _context.abrupt(\"return\");\n\n            case 4:\n              _context.prev = 4;\n              setLoading(true);\n              _context.next = 8;\n              return strapi.register(username, email, password);\n\n            case 8:\n              response = _context.sent;\n              setLoading(false);\n              console.log(response);\n              withRoute(history.push(\"/\"));\n              _context.next = 18;\n              break;\n\n            case 14:\n              _context.prev = 14;\n              _context.t0 = _context[\"catch\"](4);\n              setLoading(false);\n              showToast(_context.t0.message);\n\n            case 18:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this, [[4, 14]]);\n    }));\n\n    return function handleSubmit(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  var isFormEmpty = function isFormEmpty() {\n    return !username || !email || !password;\n  };\n\n  var showToast = function showToast(tm) {\n    setToast(true);\n    setToastMessage(tm);\n    setTimeout(function () {\n      return setToast(false);\n    }, 5000);\n  };\n\n  return React.createElement(Container, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  }, React.createElement(Box, {\n    dangerouslySetInlineStyle: {\n      __style: {\n        backgroundColor: '#ebe2da'\n      }\n    },\n    margin: 4,\n    padding: 4,\n    shape: \"rounded\",\n    display: \"flex\",\n    justifyContent: \"center\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  }, React.createElement(\"form\", {\n    onSubmit: handleSubmit,\n    style: {\n      display: 'inlineBlock',\n      textAlign: 'center',\n      maxWidth: 450\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }, React.createElement(Box, {\n    marginBottom: 2,\n    display: \"flex\",\n    direction: \"column\",\n    alignItems: \"center\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }, React.createElement(Heading, {\n    color: \"midnight\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }, \"Let's get started\"), React.createElement(Text, {\n    italic: true,\n    color: \"orchid\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  }, \"Sign up to order some brews!\")), React.createElement(Box, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66\n    },\n    __self: this\n  }, React.createElement(TextField, {\n    id: \"username\",\n    name: \"username\",\n    type: \"text\",\n    placeholder: \"username\",\n    onChange: function onChange(event) {\n      return setUsername(event.value);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67\n    },\n    __self: this\n  }), React.createElement(TextField, {\n    id: \"email\",\n    type: \"email\",\n    name: \"email\",\n    placeholder: \"email address\",\n    onChange: function onChange(event) {\n      return setEmail(event.value);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68\n    },\n    __self: this\n  }), React.createElement(TextField, {\n    id: \"password\",\n    type: \"password\",\n    name: \"password\",\n    placeholder: \"password\",\n    onChange: function onChange(event) {\n      return setPassword(event.value);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69\n    },\n    __self: this\n  }), React.createElement(Button, {\n    inline: true,\n    color: \"blue\",\n    text: \"Submit\",\n    type: \"submit\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71\n    },\n    __self: this\n  })))), toast ? React.createElement(Box, {\n    dangerouslySetInlineStyle: {\n      __style: {\n        bottom: 250,\n        left: \"50%\",\n        transform: \"translateX(-50%)\"\n      }\n    },\n    position: \"fixed\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78\n    },\n    __self: this\n  }, React.createElement(Toast, {\n    color: \"orange\",\n    text: toastMessage,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88\n    },\n    __self: this\n  })) : '');\n}","map":{"version":3,"sources":["C:\\Users\\bellis\\Desktop\\onstore\\lstore\\client\\src\\components\\signup.js"],"names":["React","useState","useEffect","useContext","useReducer","usePrevious","Container","Box","Button","Heading","Text","TextField","Toast","withRouter","Strapi","apiUrl","process","env","API_URL","strapi","Signup","username","setUsername","email","setEmail","password","setPassword","toast","setToast","toastMessage","setToastMessage","loading","setLoading","handleSubmit","event","preventDefault","isFormEmpty","showToast","register","response","console","log","withRoute","history","push","message","tm","setTimeout","__style","backgroundColor","display","textAlign","maxWidth","value","bottom","left","transform"],"mappings":"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","sourcesContent":["import React, {useState, useEffect, useContext, useReducer, usePrevious} from 'react';\r\nimport {Container, Box, Button, Heading, Text, TextField, Toast} from 'gestalt';\r\nimport { withRouter } from 'react-router'\r\nimport Strapi from \"strapi-sdk-javascript/build/main\";\r\nconst apiUrl = process.env.API_URL || \"http://localhost:1337\";\r\nconst strapi = new Strapi(apiUrl);\r\nexport default function Signup() {\r\n    const [username, setUsername] = useState('')\r\n    const [email, setEmail] = useState('')\r\n    const [password, setPassword] = useState('')\r\n    const [toast, setToast] = useState(false)\r\n    const [toastMessage, setToastMessage] = useState('')\r\n    const [loading, setLoading] = useState(false)\r\n const handleSubmit = async event => {\r\n      event.preventDefault();\r\n      if(isFormEmpty()) {\r\n          showToast('Fill in all fields!')\r\n          return;\r\n      }\r\n     \r\n      //sign up user\r\n      try {\r\n          setLoading(true);\r\n        const response = await strapi.register(username, email, password)\r\n        setLoading(false);\r\n        console.log(response);\r\n        withRoute(history.push(\"/\"));\r\n      }catch(err) {\r\n        setLoading(false);\r\n        showToast(err.message)\r\n      }\r\n  }\r\n\r\n  \r\n\r\n\r\n\r\n  const isFormEmpty = () => {\r\n    return !username || !email || !password\r\n  }\r\n\r\n  const showToast = (tm) => {\r\n    setToast(true)\r\n    setToastMessage(tm)\r\n    setTimeout(() => setToast(false), 5000)\r\n  }\r\n    return(\r\n    <Container>\r\n        <Box\r\n        dangerouslySetInlineStyle={{\r\n            __style: {\r\n                backgroundColor: '#ebe2da'\r\n            }\r\n        }}\r\n        margin={4}\r\n        padding={4}\r\n        shape=\"rounded\"\r\n        display=\"flex\"\r\n        justifyContent=\"center\"\r\n        >\r\n        <form onSubmit={handleSubmit} style={{display:'inlineBlock', textAlign:'center', maxWidth: 450}}>\r\n            <Box marginBottom={2} display=\"flex\" direction=\"column\" alignItems=\"center\" >\r\n            <Heading color=\"midnight\" >Let's get started</Heading>\r\n            <Text italic color=\"orchid\">Sign up to order some brews!</Text>\r\n            </Box>\r\n            <Box>\r\n            <TextField id=\"username\" name=\"username\" type=\"text\" placeholder=\"username\"  onChange={event => setUsername(event.value)}/>\r\n            <TextField id=\"email\" type=\"email\" name=\"email\" placeholder=\"email address\" onChange={event => setEmail(event.value)}/>\r\n            <TextField id=\"password\" type=\"password\" name=\"password\" placeholder=\"password\" onChange={event => setPassword(event.value)}/>\r\n\r\n            <Button inline color=\"blue\" text=\"Submit\" type=\"submit\"/>\r\n            </Box>\r\n\r\n        </form>\r\n\r\n        </Box>\r\n       {toast ? (\r\n       <Box\r\n       dangerouslySetInlineStyle={{\r\n       __style: {\r\n           bottom:250,\r\n           left:\"50%\",\r\n           transform: \"translateX(-50%)\"\r\n       }\r\n       }}\r\n       position=\"fixed\"\r\n       >\r\n       <Toast color=\"orange\" text={toastMessage}  />\r\n       </Box>\r\n       ) : ('')} \r\n \r\n    </Container>\r\n    )\r\n}"]},"metadata":{},"sourceType":"module"}