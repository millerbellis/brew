{"ast":null,"code":"import _regeneratorRuntime from \"C:\\\\Users\\\\bellis\\\\Desktop\\\\onstore\\\\lstore\\\\client\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\bellis\\\\Desktop\\\\onstore\\\\lstore\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"C:\\\\Users\\\\bellis\\\\Desktop\\\\onstore\\\\lstore\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\bellis\\\\Desktop\\\\onstore\\\\lstore\\\\client\\\\src\\\\components\\\\brews.js\";\nimport React, { useState, useEffect, useContext, useReducer, usePrevious } from 'react';\nimport { BarLoader } from 'react-spinners';\nimport TodosContext from '../context';\nimport { Box } from 'gestalt';\nimport Strapi from \"strapi-sdk-javascript/build/main\";\nvar apiUrl = process.env.API_URL || \"http://localhost:1337\";\nvar strapi = new Strapi(apiUrl);\nexport default function Brews() {\n  var _useState = useState(''),\n      _useState2 = _slicedToArray(_useState, 2),\n      urlParam = _useState2[0],\n      seturlParam = _useState2[1];\n\n  useEffect(\n  /*#__PURE__*/\n  _asyncToGenerator(\n  /*#__PURE__*/\n  _regeneratorRuntime.mark(function _callee() {\n    var url;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            url = window.location.pathname.substr(1);\n            seturlParam(url);\n            getBrew();\n\n          case 3:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee, this);\n  })), []);\n\n  var getBrew =\n  /*#__PURE__*/\n  function () {\n    var _ref2 = _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee2() {\n      var response;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.prev = 0;\n              _context2.next = 3;\n              return strapi.request('POST', '/graphql', {\n                data: {\n                  query: \"\\n                query {\\n                    brand(id: \\\"\".concat(urlParam, \"\\\") {\\n                    _id\\n                    name\\n                    brews {\\n                      _id\\n                      name\\n                      image{\\n                        url\\n                      }\\n                      price\\n                      \\n                      \\n                    }\\n                  }\\n                }\")\n                }\n              });\n\n            case 3:\n              response = _context2.sent;\n              console.log(response);\n              _context2.next = 10;\n              break;\n\n            case 7:\n              _context2.prev = 7;\n              _context2.t0 = _context2[\"catch\"](0);\n              console.error(_context2.t0);\n\n            case 10:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, this, [[0, 7]]);\n    }));\n\n    return function getBrew() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  return React.createElement(TodosContext.Consumer, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  }, function (value) {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48\n      },\n      __self: this\n    }, urlParam);\n  });\n}","map":{"version":3,"sources":["C:\\Users\\bellis\\Desktop\\onstore\\lstore\\client\\src\\components\\brews.js"],"names":["React","useState","useEffect","useContext","useReducer","usePrevious","BarLoader","TodosContext","Box","Strapi","apiUrl","process","env","API_URL","strapi","Brews","urlParam","seturlParam","url","window","location","pathname","substr","getBrew","request","data","query","response","console","log","error","value"],"mappings":";;;;AAAA,OAAOA,KAAP,IAAeC,QAAf,EAAyBC,SAAzB,EAAoCC,UAApC,EAAgDC,UAAhD,EAA4DC,WAA5D,QAA8E,OAA9E;AACA,SAASC,SAAT,QAAyB,gBAAzB;AACA,OAAOC,YAAP,MAAyB,YAAzB;AACA,SAAQC,GAAR,QAAkB,SAAlB;AACA,OAAOC,MAAP,MAAmB,kCAAnB;AACA,IAAMC,MAAM,GAAGC,OAAO,CAACC,GAAR,CAAYC,OAAZ,IAAuB,uBAAtC;AACA,IAAMC,MAAM,GAAG,IAAIL,MAAJ,CAAWC,MAAX,CAAf;AACA,eAAe,SAASK,KAAT,GAAiB;AAAA,kBACId,QAAQ,CAAC,EAAD,CADZ;AAAA;AAAA,MACrBe,QADqB;AAAA,MACXC,WADW;;AAE5Bf,EAAAA,SAAS;AAAA;AAAA;AAAA;AAAA,2BAAE;AAAA;AAAA;AAAA;AAAA;AAAA;AACDgB,YAAAA,GADC,GACKC,MAAM,CAACC,QAAP,CAAgBC,QAAhB,CAAyBC,MAAzB,CAAgC,CAAhC,CADL;AAEPL,YAAAA,WAAW,CAACC,GAAD,CAAX;AACDK,YAAAA,OAAO;;AAHC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAF,IAIP,EAJO,CAAT;;AAOA,MAAMA,OAAO;AAAA;AAAA;AAAA;AAAA;AAAA,6BAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAEWT,MAAM,CAACU,OAAP,CAAe,MAAf,EAAuB,UAAvB,EAAmC;AACtDC,gBAAAA,IAAI,EAAE;AACFC,kBAAAA,KAAK,uEAEYV,QAFZ;AADH;AADgD,eAAnC,CAFX;;AAAA;AAENW,cAAAA,QAFM;AAuBZC,cAAAA,OAAO,CAACC,GAAR,CAAYF,QAAZ;AAvBY;AAAA;;AAAA;AAAA;AAAA;AAyBZC,cAAAA,OAAO,CAACE,KAAR;;AAzBY;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAAPP,OAAO;AAAA;AAAA;AAAA,KAAb;;AA4BA,SACI,oBAAC,YAAD,CAAc,QAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACD,UAAAQ,KAAK;AAAA,WACJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAMf,QAAN,CADI;AAAA,GADJ,CADJ;AAQH","sourcesContent":["import React, {useState, useEffect, useContext, useReducer, usePrevious} from 'react';\r\nimport { BarLoader} from 'react-spinners'\r\nimport TodosContext from '../context';\r\nimport {Box} from 'gestalt';\r\nimport Strapi from \"strapi-sdk-javascript/build/main\";\r\nconst apiUrl = process.env.API_URL || \"http://localhost:1337\";\r\nconst strapi = new Strapi(apiUrl);\r\nexport default function Brews() {\r\n    const [urlParam, seturlParam] = useState('');\r\n    useEffect( async () => {\r\n        const url = window.location.pathname.substr(1);\r\n        seturlParam(url)\r\n       getBrew()\r\n    },[])\r\n\r\n\r\n    const getBrew = async () => {\r\n        try {\r\n        const response = await strapi.request('POST', '/graphql', {\r\n            data: {\r\n                query: `\r\n                query {\r\n                    brand(id: \"${urlParam}\") {\r\n                    _id\r\n                    name\r\n                    brews {\r\n                      _id\r\n                      name\r\n                      image{\r\n                        url\r\n                      }\r\n                      price\r\n                      \r\n                      \r\n                    }\r\n                  }\r\n                }`\r\n            }\r\n        });\r\n        console.log(response)\r\n    } catch(err) {\r\n        console.error(err)\r\n    }\r\n    }\r\n    return(\r\n        <TodosContext.Consumer>\r\n      {value => \r\n        <div>{urlParam}</div>\r\n\r\n      }\r\n      </TodosContext.Consumer>\r\n    )\r\n}"]},"metadata":{},"sourceType":"module"}